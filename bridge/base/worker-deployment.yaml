#! worker-deployment.yaml
# Generated code, do not edit
apiVersion: apps/v1
kind: Deployment
metadata:
    name: worker
    namespace: cti-dashboard
    labels:
        com.docker.compose.project: cti-dashboard
        com.docker.compose.service: worker
spec:
    replicas: 1
    selector:
        matchLabels:
            com.docker.compose.project: cti-dashboard
            com.docker.compose.service: worker
    strategy:
        type: Recreate
    template:
        metadata:
            labels:
                com.docker.compose.project: cti-dashboard
                com.docker.compose.service: worker
                com.docker.compose.network.default: "true"
        spec:
            containers:
                - name: worker
                  image: cti-dashboard-worker
                  imagePullPolicy: IfNotPresent
                  env:
                    - name: ADMIN_EMAIL
                      value: "admin@example.org"
                    - name: ADMIN_PASSWORD
                      value: "Strong!Passw0rd"
                    - name: EMBED_MODEL
                      value: "sentence-transformers/all-MiniLM-L6-v2"
                    - name: JWT_SECRET
                      value: "change-me"
                    - name: MONGO_DB
                      value: "cti"
                    - name: MONGO_URI
                      value: "mongodb://mongo:27017"
                    - name: OLLAMA_URL
                      value: "http://ollama:11434"
                    - name: QDRANT_URL
                      value: "http://qdrant:6333"
                    - name: RATE_LIMIT_PER_MIN
                      value: "60"
